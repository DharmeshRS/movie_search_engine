<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .searchbr{
            height: 50px;
            width: 1024px;
            background-color: yellow;
            margin: auto;
            text-align: justify;
            padding-top: 20px;
        }
        .searchbr > input{
            height: 30px;
            width: 500px;
            border-radius: 100px;
        }
        #moviediv{
            text-align: justify;
            border: 1px solid black;
            background-color: cornsilk;
            
        }
        
        img{
            width: 300px;
            height: 350px;
        }

        .maindiv{
            display: flex;
            text-align: justify;
            padding-left: 250px;
            
        }
        .maindiv >div >div {
            padding: 5px;
            margin: auto;
        }
    </style>
</head>
<body>
    <div class="" style="text-align: center;">
        <div style="color: cornflowerblue;">
        <h1>Fetch Data Using API</h1>
    </div>
    <div class="searchbr">
        <input type="text" id="movie" placeholder="Enter Movie Name" required/>
    <button onclick="getmoviedata()">Search Movie</button>
    </div>
    <div class="maindiv">
        
        <div id="moviediv">

        </div>
        <div id="posterdiv">

        </div>

    </div>

    
    <hr>

    <script>
        let parent=document.getElementById("posterdiv")
        let parentp=document.getElementById("moviediv")
        async function getmoviedata(){
        let moviename=document.getElementById("movie").value;
        console.log("start")
        let res= await fetch(`http://www.omdbapi.com/?t=${moviename}&type=movie&apikey=810ed14a`)
        let data=await res.json();
        console.log(data)
        console.log("end")
        showmovie(data)
    }

   function showmovie(data){
       movie.innerHTML="";
       moviediv.innerHTML="";
       posterdiv.innerHTML="";
    if(data.Error){
        parent.append(data.Error)
    }else{

        let img=document.createElement("img");

        img.src=data.Poster;
        let namebar=document.createElement("div")
        let langbar=document.createElement("div")
        let yearbar=document.createElement("div")
        let actorbar=document.createElement("div")
        let productbar=document.createElement("div")
        let awardbar=document.createElement("div")
        let ratingbar=document.createElement("div")
        let recbar=document.createElement("div")
        img.append("img"+data.Poster)
        namebar.append("Name : "+ data.Title)
        langbar.append("language : "+data.Language)
        yearbar.append("Released Year : "+data.Year)
        actorbar.append("Actors In Movies : "+data.Actors)
        productbar.append("Production Of : "+data.Production)
        awardbar.append("Awards : "+data.Awards)
        ratingbar.append("Ratings : "+data.imdbRating)
        if(data.imdbRating > 8.0){
            console.log("recommended")
            recbar.append("recommended")
            recbar.style.backgroundColor="red";
            parent.append(recbar,namebar,langbar,yearbar,actorbar,productbar,awardbar,ratingbar)
            parentp.append(img)
        }else{
            parent.append(namebar,langbar,yearbar,actorbar,productbar,awardbar,ratingbar)
            parentp.append(img)
        }
          }
        }
    </script>
</body>
</html>